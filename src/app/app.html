<main>
  <div>
    <div class="instructions-container">
      <p>{{ instructionsText}}</p>
    </div>
    <div [style.--gridSize]="gridSize" class="fixed-grid">
      <ng-container *ngFor="let y of rows">
        <ng-container *ngFor="let x of cols">
          <div class="grid-item" (click)="placeRobot(x, y)">
            <app-robot *ngIf="xPosition === x && yPosition === y" [direction]="direction()"></app-robot>
          </div>
        </ng-container>
      </ng-container>
    </div>
    <div class="button-container movement">
      <button (click)="turnLeft()">Left</button>
      <button (click)="move()">Move</button>
      <button (click)="turnRight()">Right</button>
    </div>
    <div class="button-container report">
      <button (click)="reportPosition($event)">Report</button>
    </div>
    <div>
      <button class="button-container" (click)="getHistory()">Display History</button>
      <input type="text" (change)="setGridSize($event.target.value)" placeholder="Set Grid Size" />
      <ul>
        <li *ngFor="let move of history" style="color: white">{{move}}</li>
      </ul>
    </div>
  </div>
</main>